Here's a clear, understandable summary of the authentication flows:

## Authentication Flow Summary

### Current Authentication Process
1. User provides card number and password
2. System retrieves credential information to determine credential type
3. Based on credential type, system chooses one of two authentication paths:

### Legacy Authentication Path
1. System determines credential is legacy type (credentialType = 1)
2. Creates legacy authentication request with user's card number and password
3. Calls legacy authentication service
4. Validates credentials using legacy authentication protocols
5. Returns authentication result (success/failure)

### Hash Authentication Path
1. System determines credential is modern type (credentialType = 2)
2. Creates hash authentication request with user's card number and password
3. Calls hash authentication service
4. Validates credentials using secure hash-based authentication
5. Returns authentication result (success/failure)

### Post-Authentication
1. If authentication successful, creates password info object with status details
2. If authentication fails, checks failure reason (invalid password, account locked, etc.)
3. Returns final authentication result to calling application

This dual-path approach allows the system to support both older legacy credentials and newer hash-based authentication methods within the same authentication framework.
